{"version":3,"file":"bundle-addBuilding.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAiB,uBAAuB;AACxC,8CAA8C;AAC9C;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,4CAA4C;;AAE5C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA,+CAA+C,gBAAgB;AAC/D;AACA,SAAS;AACT;AACA,C","sources":["webpack://project/./src/main/js/addBuilding.js"],"sourcesContent":["const nameInput = document.getElementById(\"name\");\nconst locationInput = document.getElementById(\"location\");\nconst heightInput = document.getElementById(\"height\");\nconst architectInput = document.getElementById(\"architectIDs\");\nconst typeInput = document.getElementById(\"type\");\nconst button = document.getElementById(\"submitButton\");\n\nbutton.addEventListener(\"click\", addBuilding);\n\nfunction addBuilding(){\n    const nameValue = nameInput.value;\n    const locationValue = locationInput.value;\n    const heightValue = heightInput.value;\n    let architectIDs = [];\n\n    const checkboxes = document.querySelectorAll('input[type=checkbox]');\n\n    for(let i=0; i < checkboxes.length; i++ ){\n        if (checkboxes[i].checked === true) { //This does not...\n            architectIDs.push(parseInt(checkboxes[i].value));\n        }\n    }\n\n    const typeValue = typeInput.value;\n\n    if (nameValue === null || locationValue === null || heightValue === null || typeValue === null){\n        return;\n    }\n\n    const cookie = document.cookie.split('; ').map(entry => entry.split('=')).find(entry => entry[0]===\"XSRF-TOKEN\")\n\n    fetch(`/api/buildings`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"X-XSRF-TOKEN\" : cookie[1]\n        },\n        body: JSON.stringify({\n            name : nameValue,\n            location : locationValue,\n            height : heightValue,\n            architectsIDs : architectIDs,\n            type : typeValue.toUpperCase()\n        })\n    })\n        .then(response => {\n            if (response.status === 201) {\n                nameValue.value=\"\";\n                locationValue.value=\"\";\n                heightValue.value=\"\";\n                typeValue.value=\"\";\n                window.location.href = '/buildings';\n            } else {\n                //TODO: Error handling\n                alert(`Received status code: ${response.status}`);\n            }\n        })\n        .catch(error => alert(error.message));\n}"],"names":[],"sourceRoot":""}